//
//  main.cpp
//  Test2
//
//  Created by Apple on 2020/11/19.
//
//
//  GetAndSet.cpp
//  Front end development
//
//  Updated by QTN on 2020/11/22.
//  @Copyright Reserved, QTN, 2020
//

#include <stdio.h>
#include<iostream>
#include<iomanip>
#include <string>
using namespace std;
class Piece{
public:
    Piece(){
        this->player=NULL;
        this->position[0]=NULL;
        this->position[1]=NULL;
    }
    Piece(int player,int position[2]){
        this->player=player;
        this->position[0]=position[0];
        this->position[1]=position[1];
    }
    int getPlayer(){
        return player;
    }
    int* getPosition(){
        return position;
    }
    
private:
    int player;
    int position [2];
    
    
};
class Board {
public:
    Board(){
        for (int i=0;i<2;i++){
            for (int j=0;j<6;j++){
                for (int z=0;z<7;z++){
                    full[i][j][z]=false;
                }
                
            }
        }
        
    }
    void ChangeBoard(Piece piece){
        full[piece.getPlayer()][piece.getPosition()[0]][piece.getPosition()[1]]=true;
    }
    bool getFull(int x, int y, int z){
        return full[x][y][z];
    }
    bool ifTerminates(){
        for (int i=0;i<2;i++){
          for (int j=0;j<6;j++){
              for (int z=0;z<7;z++){
                  if (full[i][j][z]==false){
                      return false;
                  }
              }
          }
        }
        
        return true;
    }
    void Setter (Piece piece){
        ChangeBoard(piece);
    }
    Piece* Getter(){
        Piece pi[84];
        for (int o=0;o<84;o++){
            pi[o]=Piece();
        }
          for (int i=0;i<2;i++){
            for (int j=0;j<6;j++){
                for (int z=0;z<7;z++){
                    if (full[i][j][z]==true){
                        int pos[2]={j,z};
                        pi[u]=Piece(i,pos);
                        u++;
                    }
                }
                
            }
        }
        return pi;
    }
   
   int getLength(){
       return u;
   }
private:
    bool full [2][6][7];
                int u=0;

};

int main()
{
    Board b=Board();
    int column;
    cout<< "Please enter the column number:"<<endl;
    while (cin>>column ){
        int row=6;
        while(b.getFull(0,row-1,column-1)){
            row--;
        }
        int posi[2]={row-1,column-1};
              Piece in=Piece(0,posi);
              b.Setter(in);
        
    }
 
    for (int i=0;i<2;i++){
            cout<<"Player "<<i;
        for (int j=0;j<6;j++){
            cout<<endl;
            for (int z=0;z<7;z++){
                cout <<b.getFull(i,j,z)<<" ";
                    
            }
            
        }
       cout<<endl;
        
    }
    cout<<endl;
    
    Piece* pc=b.Getter();
    for (int i=0;i<b.getLength();i++){
    
    cout <<pc->getPlayer()<<" "<<pc->getPosition()[0]<<" "<<pc->getPosition()[1]<<endl;
        pc++;
    }
}
