

#include <stdio.h>
#include<iostream>
#include<iomanip>
#include <string>
using namespace std;
class Piece{
public:
    Piece(){
        this->player=NULL;
        this->position[0]=NULL;
        this->position[1]=NULL;
    }
    Piece(int player,int position[2]){
        this->player=player;
        this->position[0]=position[0];
        this->position[1]=position[1];
    }
    int getPlayer(){
        return player;
    }
    int* getPosition(){
        return position;
    }
    
private:
    int player;
    int position [2];
    
    
};
class Board {
public:
    Board(){
        for (int i=0;i<6;i++){
            for (int j=0;j<7;j++){
                    full[i][j]=0;
                
                
            }
        }
        
    }
    void ChangeBoard(Piece piece){
        full[piece.getPosition()[0]][piece.getPosition()[1]]=piece.getPlayer();
    }
    int getFull(int x, int y){
        return full[x][y];
    }
    bool ifTerminates(){
        for (int i=0;i<6;i++){
          for (int j=0;j<7;j++){
                  if (full[i][j]==0){
                      return false;
                  
              }
          }
        }
        
        return true;
    }
    int whoWins (){
        for (int i=0;i<6;i++){
            for (int j=0;j<7;j++){
                if (this->getFull(i,j))
                {}
            }
        }
    }
    void Setter (Piece piece){
        ChangeBoard(piece);
    }
   
    Piece* Getter(){
        Piece pi[42];
        for (int o=0;o<42;o++){
            pi[o]=Piece();
        }
          for (int i=0;i<6;i++){
            for (int j=0;j<7;j++){
                    if (full[i][j]!=0){
                        int pos[2]={i,j};
                        pi[u]=Piece(full[i][j],pos);
                        u++;
                    
                }
                
            }
        }
        return pi;
    }
   
   int getLength(){
       return u;
   }
private:
    int full [6][7];
                int u=0;

};

int main()
{
    Board b=Board();
    int column;
    int player;
    cout<< "Please enter the player number"<<endl;
    cin>> player;
    cout<< "Please enter the column number:"<<endl;
    while (cin>>column ){
        int row=6;
        while(b.getFull(row-1,column-1)>0){
            row--;
        }
        int posi[2]={row-1,column-1};
              Piece in=Piece(player,posi);
              b.Setter(in);
              if (b.ifTerminates()){
                  return 0;
              }
            
    }
    
        for (int i=0;i<6;i++){
            cout<<endl;
            for (int j=0;j<7;j++){
                cout <<b.getFull(i,j)<<" ";
                    
            }
            
        }
       cout<<endl;
        
    

    Piece* pc=b.Getter();
    for (int i=0;i<b.getLength();i++){
    
    cout <<pc->getPlayer()<<" "<<pc->getPosition()[0]<<" "<<pc->getPosition()[1]<<endl;
        pc++;
    }
}
